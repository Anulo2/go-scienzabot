kind: pipeline
name: default

steps:
- name: build
  image: plugins/docker
  settings:
    tags: latest
    repo: repository.geekfor.science
    #  from_secret: docker_registry
  commands:
  - go build .
- name: static analysis
  image: plugins/docker
  settings:
    tags: latest
    repo:
      from_secret: docker_registry
  commands:
  - golint .
  - go vet .
  - maligned ./...
